<p-toast></p-toast>

<div>
  <div *ngIf="loading">
    <p-skeleton width="100%" height="2rem"></p-skeleton><br>
    <p-skeleton width="100%" height="2rem"></p-skeleton><br>
    <p-skeleton width="100%" height="2rem"></p-skeleton>
  </div>
  <div *ngIf="!loading">
    <p-table [value]="products" [paginator]="true" [rows]="5" [showCurrentPageReport]="true"
      [tableStyle]="{ 'min-width': '50rem' }"
      currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
      [rowsPerPageOptions]="[5, 10, 20]">
      <ng-template pTemplate="header">
        <tr>
          <th>Name</th>
          <th>Image</th>
          <th>Price</th>
          <th>Category</th>
          <th>Actions</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-product>
        <tr>
          <td class="product-name" style="text-decoration: underline;" (click)="productDetails(product)"> <strong>{{product.title}}</strong></td>
          <td><img [src]=" product.images[0]" [alt]="product.name" width="100" class="shadow-4" /></td>
          <td>{{product.price | currency:'USD'}}</td>
          <td>{{product.category}}</td>
          <td>
            <button pButton pRipple icon="pi pi-pencil" class="p-button-rounded p-button-success mr-2" (click)="productDetails(product)"></button>
            <button pButton pRipple icon="pi pi-trash" class="p-button-rounded p-button-warning" (click)="deleteProduct(product)"></button>
        </td>
        </tr>
      </ng-template>
     
    </p-table>
  </div>
</div>

<p-confirmDialog [style]="{ width: '450px' }"></p-confirmDialog>